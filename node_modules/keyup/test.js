
var keyup = require('./index');


// replaceKeys();
function replaceKeys() {

    keyup.start().color('cyan').on('key', data => data.name)
        .on('line',console.log);

    // keyup.start().color('blue').on('line', line => {
    //     console.log(`line event: ${line}`);
    // }).on('key:tab',key => {
    //     return "Tab Key";
    // }).on('command',line => {
    //     console.log(`command event. args: ${JSON.stringify(line)}`);
    // });

}

commandCallback();
function commandCallback() {
    keyup.start()
        .on('command',data => console.log(`command ${JSON.stringify(data)}`))
        .on('command:login',args => {
            keyup.prefix(args[0]);
            console.log(`Welcome ${args[0]}`);
        })
        .on('command:logout',args => console.log(`Goodbye ${args[0]}`));

}

// questionPromise();
function questionPromise() {
    keyup.ask("What is your name?").then(name => keyup.ask(`Hi ${name} what is your favourite colour?`))
        .then(colour => {
            console.log(`nice ${colour}`);
        }).catch(console.error);
}

// questionCallback();
function questionCallback() {
    keyup.ask("What is your name?",
        name => keyup.ask(`Hi ${name} what is your favourite colour?`,
            colour => {
                console.log(`I like ${colour} too`);
    }));
}

// delayedCallback();
function delayedCallback() {
    keyup.start().on('line',line => {
        console.log(`line ${line}`);
        return new Promise(resolve => setTimeout(() => resolve(),2000));
    });
}
